window.addEventListener("load",()=>document.body.classList.add("loaded"));document.addEventListener("DOMContentLoaded",()=>{r()});function r(){g(),f(),L(),h(),m(),w(),d()}function d(){const n=document.querySelector(".js-to-up");u(n),n.addEventListener("click",()=>{scrollTo({top:0,behavior:"smooth"})})}function u(n){document.addEventListener("scroll",o=>{const e=window.innerHeight,s=window.scrollY>e;n.classList.toggle("show",s)})}function h(){const n=document.querySelectorAll("[data-search]"),o=document.querySelector(".js-hint-result");n.forEach(e=>{e.addEventListener("input",()=>{let t=e.value.length>2;if(t){let s=[{name:"Шарики сердце",link:"link-1"},{name:"Шарики 8 марта",link:"link-2"},{name:"Шарики с днем рожденья",link:"link-3"}];o.innerHTML="",s.forEach(c=>{const l=`<li class="header-search-hint__item">
                                <a href="#${c.link}" class="header-search-hint__link">${c.name}</a>
                            </li>`;o.insertAdjacentHTML("afterbegin",l)})}e.closest(".header-search").setAttribute("data-hint",t)})})}function m(){const n=document.querySelectorAll(".js-open-catalog"),o=document.querySelector(".catalog-menu-head__close"),e=document.body.classList,t="show-catalog";n.forEach(s=>{s.addEventListener("click",c=>{c.preventDefault(),e.toggle(t)})}),o.addEventListener("click",()=>e.remove(t))}function g(){const n=document.querySelectorAll(".js-dropdown .nav-link"),o=[...n].map(e=>new bootstrap.Dropdown(e));n.forEach((e,t)=>{const s=e.closest(".js-dropdown");let c;e.addEventListener("mouseenter",()=>{s.classList.add("dropdown-show"),c=setTimeout(()=>{s.classList.contains("dropdown-show")&&o[t].show()},100)}),s.addEventListener("mouseleave",()=>{s.classList.remove("dropdown-show"),clearTimeout(c),o[t].hide()})})}function f(){document.querySelectorAll(".js-catalog-list > li").forEach(o=>{o.addEventListener("mouseenter",()=>{const e=o.getAttribute("data-category"),t=document.querySelector(`.catalog-category-content[data-content-category='${e}']`);t&&(t.classList.add("show"),t.getSiblings().forEach(s=>s.classList.remove("show"))),o.classList.add("active"),o.getSiblings().forEach(s=>s.classList.remove("active"))})})}function w(){document.querySelectorAll(".js-catalog-list-mobile li > a").forEach(o=>{o.addEventListener("click",()=>{const e=o.parentElement;e.getSiblings().forEach(t=>t.classList.remove("is-open")),e.querySelectorAll(".is-open").forEach(t=>{t.classList.remove("is-open")}),e.classList.toggle("is-open")})})}function L(){a(),window.addEventListener("scroll",a)}function a(){matchMedia("(min-width: 992px)").matches&&(scrollY>72?document.body.classList.add("header-fixed"):document.body.classList.remove("header-fixed"))}function i(n,o,e=[]){let t=o?n.nextElementSibling:n.previousElementSibling;return t!=null?(e.push(t),i(t,o,e)):e}Object.prototype.getSiblings=function(){return[...i(this,!1),...i(this,!0)]};
