document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".js-form"),t={ERROR_REQUIRED:"Обязательное поле",ERROR_EMAIL:"Введите корректный email",ERROR_MIN_LENGTH:s=>`Поле должно содержать не менее ${s} символов`},n={name:{valueMissing:t.ERROR_REQUIRED},email:{valueMissing:t.ERROR_REQUIRED,typeMismatch:t.ERROR_EMAIL},phone:{valueMissing:t.ERROR_REQUIRED},password:{valueMissing:t.ERROR_REQUIRED,tooShort:t.ERROR_MIN_LENGTH(6)}};e.forEach(s=>{r(s,n)}),a(),document.querySelectorAll(".form-input input").forEach(s=>{s.addEventListener("input",()=>o(s,n))})});function a(){document.querySelectorAll(".form-input input").forEach(t=>{t.addEventListener("change",()=>{t.closest(".form-input").classList.toggle("fill",t.value.length)})})}function r(e,t){e.addEventListener("submit",n=>{n.preventDefault(),e.classList.remove("was-validated");const i=e.querySelector("[name=main-fields]");c(i,t),e.classList.add("was-validated")},!1)}function c(e,t){for(const n of e.elements)o(n,t)}function o(e,t){["valueMissing","tooShort","typeMismatch"].forEach(n=>{e.validity[n]&&(e.closest(".form-input").querySelector(".invalid-feedback").textContent=t[e.name][n])})}
