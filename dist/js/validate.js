(()=>{document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".js-form"),t={ERROR_REQUIRED:"Обязательное поле",ERROR_EMAIL:"Введите корректный email",ERROR_MIN_LENGTH:i=>`Поле должно содержать не менее ${i} символов`},n={name:{valueMissing:t.ERROR_REQUIRED},email:{valueMissing:t.ERROR_REQUIRED,typeMismatch:t.ERROR_EMAIL},phone:{valueMissing:t.ERROR_REQUIRED},password:{valueMissing:t.ERROR_REQUIRED,tooShort:t.ERROR_MIN_LENGTH(6)}};e==null||e.forEach(i=>{c(i,n)}),a(),document.querySelectorAll(".form-input input").forEach(i=>{i.addEventListener("input",()=>s(i,n))})});function a(){document.querySelectorAll(".form-input input").forEach(t=>{t.addEventListener("change",()=>{t.closest(".form-input").classList.toggle("fill",t.value.length)})})}function c(e,t){e.addEventListener("submit",n=>{n.preventDefault(),e.classList.remove("was-validated");const o=e.querySelector("[name=main-fields]");r(o,t),e.classList.add("was-validated")},!1)}function r(e,t){for(const n of e.elements)s(n,t)}function s(e,t){["valueMissing","tooShort","typeMismatch"].forEach(n=>{e.validity[n]&&(e.closest(".form-input").querySelector(".invalid-feedback").textContent=t[e.name][n])})}})();
